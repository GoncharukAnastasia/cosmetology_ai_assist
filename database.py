import sqlite3


def create_database():
    conn = sqlite3.connect("skincare_products.db")
    cursor = conn.cursor()

    cursor.execute(
        """
        CREATE TABLE IF NOT EXISTS products (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT NOT NULL,
            skin_type TEXT NOT NULL,
            effect TEXT NOT NULL,
            components TEXT NOT NULL,
            price INTEGER NOT NULL
        )
    """
    )

    products = [
        (
            "Увлажняющий крем A",
            "сухая",
            "увлажнить",
            "гиалуроновая кислота, масло ши",
            1500,
        ),
        (
            "Гель для умывания B",
            "жирная",
            "очистить",
            "салициловая кислота, уголь",
            1200,
        ),
        ("Тоник C", "комбинированная", "балансировать", "алоэ вера, зеленый чай", 1000),
        ("Сыворотка D", "чувствительная", "успокоить", "пантенол, ромашка", 1800),
        ("Крем с SPF E", "нормальная", "защитить", "оксид цинка, витамин Е", 2000),
        ("Маска ночная F", "сухая", "напитать", "авокадо, масло жожоба", 1700),
        ("Крем-гель G", "жирная", "увлажнить", "гиалуроновая кислота, цинк", 1300),
        (
            "Пилинг H",
            "комбинированная",
            "обновить",
            "фруктовые кислоты, молочная кислота",
            1600,
        ),
        (
            "Эссенция I",
            "чувствительная",
            "укрепить",
            "центелла азиатская, коллаген",
            1900,
        ),
        (
            "Крем-антиоксидант J",
            "нормальная",
            "омолодить",
            "витамин С, коэнзим Q10",
            2200,
        ),
        ("Гель-скраб K", "жирная", "очистить", "уголь, экстракт лимона", 1400),
        ("Масло для лица L", "сухая", "напитать", "масло розы, масло арганы", 2500),
        ("Крем BB M", "комбинированная", "увлажнить", "ниацинамид, аллантоин", 1800),
        (
            "Эмульсия N",
            "чувствительная",
            "укрепить",
            "ферменты, гиалуроновая кислота",
            1600,
        ),
        (
            "Сыворотка с ретинолом O",
            "нормальная",
            "омолодить",
            "ретинол, пептиды",
            2300,
        ),
        (
            "Успокаивающий гель P",
            "чувствительная",
            "успокоить",
            "алоэ вера, бисаболол",
            1500,
        ),
        (
            "Гидрофильное масло Q",
            "комбинированная",
            "очистить",
            "масло виноградных косточек, витамин Е",
            1700,
        ),
        (
            "Тоник с кислотами R",
            "жирная",
            "балансировать",
            "гликолевая кислота, чайное дерево",
            1400,
        ),
        ("Крем с церамидами S", "сухая", "укрепить", "церамиды, холестерол", 2000),
        (
            "Солнцезащитный флюид T",
            "нормальная",
            "защитить",
            "SPF 50+, ниацинамид",
            2400,
        ),
    ]

    cursor.execute("SELECT COUNT(*) FROM products")
    if cursor.fetchone()[0] == 0:
        cursor.executemany(
            "INSERT INTO products (name, skin_type, effect, components, price) VALUES (?, ?, ?, ?, ?)",
            products,
        )

    conn.commit()
    conn.close()
    print("База данных успешно создана и заполнена.")
